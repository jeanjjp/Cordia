<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:x="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pm="http://primefaces.org/mobile">

<ui:composition template="../Menu.xhtml">

	<ui:define name="conteudo">


	<!-- header -->
	<br/>
	<br/>
	<div class="row">
		<div class="container">
		
			<!-- titulo -->
			<div class="col s12">
				<h5 class="light center">Lista de clientes</h5>
			</div>
			
			<!-- botao de add -->
			<div class="col s12 m12">
				<div class="col s12 m3">
					<br /> <a class="modal-trigger btn blue darken-1 col s12"
						href="#modal-add"><i class="material-icons left">add</i>Cadastrar</a>
				</div>

				<!-- input de pesquisa -->
				<h:form>
					<div class="col s12 m6">
						<div class="input-field col s12">
							<h:inputText id="procurar" autocomplete="false"
								value="#{controladorObjeto.codigoString}" />
							<label class="center" for="procurar">Nº de conta, nome ou cpf...</label>
						</div>
					</div>
					
					<!-- Botao pesquisar -->
					<div class="col s12 m3">
						<br />
						<h:commandButton type="submit" class="btn blue darken-1 col s12"
							value="Procurar" action="#{controladorObjeto.teste}"></h:commandButton>
							
							
					
					</div>
				</h:form>

			</div>
		</div>
	</div>

	<!-- Janela modal para add nova task -->
	<div id="modal-add" class="modal">
		<div class="modal-content">
			<h4 class="light center">Novo Cliente</h4>
			<div class="row">
				<h:form class="col s12">
					<div class="row">
					
					<!-- input da task -->
						<div class="input-field col s12">
							<i class="material-icons prefix">edit</i>
							<h:inputText id="nConta"
								validatorMessage="nº conta inválido"
								requiredMessage="nº conta inválido"
								required="true" autocomplete="false"
								value="#{taskController.task.tituloTask}">
								<f:validateLength minimum="2"></f:validateLength>
							</h:inputText>
							<label for="nConta"
								data-error="nº conta inválido"
								data-success="OK.">Nº Conta</label>
						</div>

						<!-- input da task -->
						<div class="input-field col s12">
							<i class="material-icons prefix">edit</i>
							<h:inputText id="nome"
								validatorMessage="Nome inválido"
								requiredMessage="Nome inválido"
								required="true" autocomplete="false"
								value="#{taskController.task.descricaoTask}">
								<f:validateLength minimum="4"></f:validateLength>
							</h:inputText>
							<label for="nome"
								data-error="Nome inválido"
								data-success="OK.">Nome completo</label>
						</div>
						
							<!-- input da task -->
						<div class="input-field col s12">
							<i class="material-icons prefix">edit</i>
							<h:inputText id="cpf"
								validatorMessage="Cpf inválido"
								requiredMessage="Cpf inválido"
								required="true" autocomplete="false"
								value="#{taskController.task.descricaoTask}">
								<f:validateLength minimum="4"></f:validateLength>
							</h:inputText>
							<label for="cpf"
								data-error="Cpf inválido"
								data-success="OK.">cpf (Somente números)</label>
						</div>

					</div>
					
					<!-- Botao e TOAST para informacoes -->
					<p:growl id="growl" showDetail="false" sticky="false" life="3500" />
					<h:commandButton id="botao" type="submit"
						class="btn modal-trigger blue darken-1 col s12" value="Cadastrar"
						action="#{taskController.cadastrarOuAlterarTask}"></h:commandButton>
				</h:form>
			</div>
		</div>
	</div>

	<!-- Tabela de tasks -->
	<div class="row">
		<div class="container">
			<div class="col s12 m12">
				<h:dataTable value="#{controladorObjeto.lista}" var="task"
					class="responsive-table striped centered">
					<h:column>
						<f:facet name="header">Título</f:facet>
						<h:outputText value="#{task}" />
					</h:column>
					<h:column>
						<f:facet name="header">Descrição</f:facet>
						<h:outputText value="#{task}">
						</h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Status</f:facet>
						<h:outputText value="#{task}">
						</h:outputText>
					</h:column>
					<h:column>
						<f:facet name="header">Data criação</f:facet>
						<h:outputText value="#{task}">
						</h:outputText>
					</h:column>

					<!-- botao para edicaoo de task -->
					<h:column>
						<h:form>

							<h:commandButton value="EDITAR"
								action="#{taskController.editarTask}"
								styleClass="btn blue darken-1 col s9 m9">
								<f:setPropertyActionListener value="#{task}"
									target="#{taskController.task}"></f:setPropertyActionListener>
								<br />
							</h:commandButton>

						</h:form>
					</h:column>

					<!-- botao para confirmacao de exclusão de task -->
					<h:column>
						<h:form>
							<h:commandButton value="Deletar"
								action="#{taskController.deletaraTask}"
								styleClass="btn blue darken-1 col s9 m9">
								<f:setPropertyActionListener value="#{task}"
									target="#{taskController.task}"></f:setPropertyActionListener>
							</h:commandButton>

						</h:form>
					</h:column>
				</h:dataTable>
			</div>
		</div>
	</div>




	<!--  SCRIPTS-->
	<script type="text/javascript"
		src="#{request.contextPath}/js/jquery-2.1.1.min.js"></script>
	<script type="text/javascript"
		src="#{request.contextPath}/js/materialize.min.js"></script>
	<script type="text/javascript" src="#{request.contextPath}/js/init.js"></script>
	<script>
		$(document).ready(function() {
			$('.modal').modal();
		});
	</script>
	<!--  /SCRIPTS -->
	
	
	
	</ui:define>

</ui:composition>

</html>